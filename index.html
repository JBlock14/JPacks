<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Reflejo tipo ítem brillante</title>
  <style>
    body {
      background: #111;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2em;
      font-family: sans-serif;
      color: #fff;
    }

    .uploader {
      margin-bottom: 2em;
      border: 2px dashed #555;
      padding: 1em;
      cursor: pointer;
    }

    .image-wrapper {
      position: relative;
      display: inline-block;
      overflow: hidden;
    }

    .image-wrapper img {
      max-width: 200px;
      display: block;
    }

    .shine-effect {
      position: absolute;
      top: -100%;
      right: -100%;
      width: 200%;
      height: 200%;
      background: linear-gradient(135deg, transparent 40%, rgba(255,255,255,0.6) 50%, transparent 60%);
      transform: rotate(25deg);
      animation: shineMove 2.5s ease-in-out forwards;
      pointer-events: none;
    }

    @keyframes shineMove {
      0% { top: -100%; right: -100%; }
      100% { top: 100%; right: 100%; }
    }
  </style>
</head>
<body>
  <label class="uploader">
    Subir imagen
    <input type="file" accept="image/*" onchange="previewImage(event)" hidden />
  </label>

  <div class="image-wrapper" id="preview" style="display:none;">
    <img id="main-img" />
    <div class="shine-effect"></div>
  </div>

  <script>
    function previewImage(event) {
      const file = event.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function(e) {
        const src = e.target.result;
        document.getElementById('main-img').src = src;
        document.getElementById('preview').style.display = 'inline-block';

        // Reinicia la animación
        const shine = document.querySelector('.shine-effect');
        shine.style.animation = 'none';
        void shine.offsetWidth;
        shine.style.animation = 'shineMove 2.5s ease-in-out forwards';
      };
      reader.readAsDataURL(file);
    }
  </script>
</body>
</html>
